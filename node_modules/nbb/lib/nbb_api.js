import * as esm_import$module from "module";
import * as esm_import$net from "net";
import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
let ex_nbb_api_loadFile;
let ex_nbb_api_loadString;
let ex_nbb_api_getClassPath;
let ex_nbb_api_addClassPath;
let ex_nbb_api_version;
let ex_nbb_api_registerModule;
const shadow_esm_import = function(x) { return import(x) };
'use strict';var yna,zna,Ana,hZ,iZ,jZ;$APP.$Y=function(a,b){return $APP.vw(a,b)};$APP.aZ=function(a){a=$APP.Fd(a);a=$APP.Es.h(function(b){return $APP.Hw($APP.Ow(),b)},a);return $APP.Vw(a)};yna=function(a,b){return Promise.resolve(function(){var c=function(){var d=$APP.t(bZ);return null==d?null:Promise.resolve(d)}();return $APP.n(c)?c:shadow_esm_import("import-meta-resolve").then(function(d){return $APP.gd(bZ,d.resolve)})}().then(function(c){return c.h?c.h(a,b):c.call(null,a,b)}))};
$APP.dZ=function(a){var b=cZ.g?cZ.g(a):cZ.call(null,a),c=$APP.r.g($APP.dx.pathToFileURL(a));$APP.Zw.require=b;$APP.vk.D($APP.Yw,$APP.mj,$APP.pt,b);$APP.vk.D($APP.Yw,$APP.mj,$APP.ax,function(d){return yna(d,c)})};$APP.eZ=function(a){a=$APP.Op.resolve(a);$APP.dZ(a);return $APP.rx(a)};$APP.fZ=function(a){$APP.dZ($APP.Op.resolve("script.cljs"));return $APP.px(a)};$APP.gZ=function(a,b){return $APP.Zv(a,b)};
zna=function(a,b){b=$APP.$Y(a,$APP.Vl("(keys (ns-map '%s))","%s",b));b=$APP.Uj.h(function(c){return["`",$APP.r.g(c)].join("")},b);b=["[",$APP.Np.h(" ",b),"]"].join("");a=$APP.vw(a,b);return $APP.ot.h(function(c){return $APP.dm($APP.r.g(c),"nbb.internal")},a)};
Ana=function(a,b){var c=$APP.Ow();b=$APP.am.h(b,/\//);$APP.D.j(b,0,null);var d=$APP.D.j(b,1,null),e=$APP.$Y(c,$APP.qk.l($APP.E([$APP.V.g($APP.x($APP.N.l(new $APP.G(null,$APP.ir,null,1,null),new $APP.G(null,$APP.Mh($APP.V.g($APP.x($APP.N.h(new $APP.G(null,hZ,null,1,null),new $APP.G(null,$APP.V.g($APP.x($APP.N.h(new $APP.G(null,$APP.gD,null,1,null),new $APP.G(null,$APP.V.g($APP.x($APP.N.h(new $APP.G(null,$APP.tl,null,1,null),new $APP.G(null,a,null,1,null)))),null,1,null)))),null,1,null))))),null,1,
null),$APP.E([new $APP.G(null,$APP.V.g($APP.x($APP.N.l(new $APP.G(null,$APP.nI,null,1,null),new $APP.G(null,$APP.V.g($APP.x($APP.N.h(new $APP.G(null,$APP.RI,null,1,null),new $APP.G(null,hZ,null,1,null)))),null,1,null),$APP.E([new $APP.G(null,hZ,null,1,null)])))),null,1,null)]))))])));if($APP.n(e)&&(c=$APP.n(d)?function(){var l=$APP.Fa(d,"."),q=$APP.am.h(d,/\./);l=l?q:$APP.vj(q);return new $APP.I(null,2,5,$APP.J,[[$APP.r.g(a),"/",$APP.x(l)?[$APP.Np.h(".",l),"."].join(""):null].join(""),$APP.$g.j($APP.Ia,
e,l)],null)}():new $APP.I(null,2,5,$APP.J,[[$APP.r.g(a),"/"].join(""),e],null),$APP.n(c))){var f=$APP.D.j(c,0,null),g=$APP.D.j(c,1,null);c=function(){for(var l=g,q=$APP.uh;;)if($APP.n(l)){var w=Object.getPrototypeOf(l);q=$APP.mi.h(q,Object.getOwnPropertyNames(l));l=w}else return q}();return $APP.Uj.h(function(l){return new $APP.I(null,2,5,$APP.J,[null,[$APP.r.g(f),$APP.r.g(l)].join("")],null)},c)}return null};
$APP.kZ=function(a){var b=$APP.Fg(a);a=$APP.Ne.h(b,$APP.T);try{var c=$APP.Ow(),d=$APP.n(a)?$APP.gZ(c,$APP.dk.g(a)):null,e=$APP.Dg([$APP.cr,$APP.n(d)?d:$APP.t($APP.cr)]);$APP.uq(e);try{var f=function(){var ma=$APP.In.g(b);return $APP.n(ma)?ma:$APP.ON.g(b)}();if($APP.n(f)){var g=-1!=f.indexOf("/"),l=g?function(){var ma=$APP.am.h(f,/\//);ma=null==ma?null:$APP.z(ma);return null==ma?null:$APP.dk.g(ma)}():null,q=zna(c,$APP.vw(c,"(ns-name *ns*)")),w=$APP.Uj.h(function(ma){return new $APP.I(null,3,5,$APP.J,
[$APP.fg(ma),$APP.wj(ma),iZ],null)},q),u=$APP.vw(c,"(let [m (ns-aliases *ns*)] (zipmap (keys m) (map ns-name (vals m))))"),A=$APP.xj($APP.ij(u),$APP.gj(u)),m=$APP.bo.g($APP.ph.l(function(ma){var qa=$APP.Ne.h(u,ma);ma=$APP.$Y(c,$APP.Vl("(keys (ns-publics '%s))","%s",qa));return $APP.Uj.h(function(fa){return new $APP.I(null,3,5,$APP.J,[$APP.r.g(qa),$APP.r.g(fa),jZ],null)},ma)},$APP.E([$APP.gj(u)]))),F=$APP.Uj.h(function(ma){return new $APP.I(null,3,5,$APP.J,[$APP.r.g(ma),null,jZ],null)},$APP.vw(c,"(all-ns)")),
M=g?Ana(l,f):null,U=$APP.n(M)?null:g?function(){var ma=$APP.Ne.j(u,l,l),qa=$APP.$Y(c,$APP.Vl("(and (find-ns '%s)\n                                                                                         (keys (ns-publics '%s)))","%s",ma));return $APP.Uj.h(function(fa){return new $APP.I(null,3,5,$APP.J,[$APP.r.g(ma),$APP.r.g(fa),jZ],null)},qa)}():null,W=$APP.N.l(w,m,$APP.E([F,U])),Y=$APP.lu.h(function(ma){var qa=$APP.D.j(ma,0,null);var fa=$APP.D.j(ma,1,null),p=$APP.D.j(ma,2,null);ma=$APP.Nj(f);p=(p=
$APP.C.h(iZ,p))?$APP.Jj(ma,fa):p;p=$APP.n(p)?new $APP.I(null,2,5,$APP.J,[qa,fa],null):null;$APP.n(p)?qa=p:$APP.n(qa)?(p=$APP.n($APP.Jj(ma,[$APP.r.g($APP.Ne.h(A,$APP.dk.g(qa))),"/",$APP.r.g(fa)].join("")))?new $APP.I(null,2,5,$APP.J,[qa,[$APP.r.g($APP.Ne.h(A,$APP.dk.g(qa))),"/",$APP.r.g(fa)].join("")],null):null,qa=$APP.n(p)?p:$APP.n($APP.Jj(ma,[$APP.r.g(qa),"/",$APP.r.g(fa)].join("")))?new $APP.I(null,2,5,$APP.J,[qa,[$APP.r.g(qa),"/",$APP.r.g(fa)].join("")],null):null):qa=null;return qa},W),ba=$APP.N.h(Y,
M),ka=$APP.Mh($APP.uC.g($APP.Uj.h(function(ma){var qa=$APP.D.j(ma,0,null);ma=$APP.D.j(ma,1,null);ma=new $APP.k(null,1,["candidate",$APP.r.g(ma)],null);return $APP.n(qa)?$APP.mj.j(ma,"ns",$APP.r.g(qa)):ma},ba)));return new $APP.k(null,2,["completions",ka,"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null)}return new $APP.k(null,1,["status",new $APP.I(null,1,5,$APP.J,["done"],null)],null)}finally{$APP.wq()}}catch(ma){return console.warn(ma),new $APP.k(null,2,["completions",$APP.uh,"status",new $APP.I(null,
1,5,$APP.J,["done"],null)],null)}};hZ=new $APP.v(null,"resolved__34238__auto__","resolved__34238__auto__",-998537724,null);$APP.lZ=new $APP.H(null,"classpath","classpath",299521985);iZ=new $APP.H(null,"unqualified","unqualified",-98904653);$APP.mZ=new $APP.H(null,"port","port",1534937262);$APP.nZ=new $APP.H(null,"host","host",-1558485167);$APP.oZ=new $APP.v(null,"repl","repl",1605132860,null);$APP.pZ=new $APP.H(null,"debug","debug",-1608172596);jZ=new $APP.H(null,"qualified","qualified",-2065109343);
$APP.qZ=new $APP.v(null,"socket-repl","socket-repl",-1615225633,null);var Bna=esm_import$module;var cZ=function(){var a=Bna.createRequire;return $APP.n(a)?a:function(){return function(){throw Error("createRequire is not defined, this is a no-op");}}}(),bZ=$APP.fh(null);$APP.rZ=esm_import$net;ex_nbb_api_loadFile=$APP.eZ;ex_nbb_api_loadString=$APP.fZ;ex_nbb_api_getClassPath=function(){return $APP.Qp()};ex_nbb_api_addClassPath=function(a){return $APP.Rp(a)};ex_nbb_api_version=function(){return $APP.Jx()};ex_nbb_api_registerModule=function(a,b){b=$APP.ex($APP.Dl(b));return $APP.vk.D($APP.Xw,$APP.mj,b,a)};
export { ex_nbb_api_loadFile as loadFile };
export { ex_nbb_api_loadString as loadString };
export { ex_nbb_api_getClassPath as getClassPath };
export { ex_nbb_api_addClassPath as addClassPath };
export { ex_nbb_api_version as version };
export { ex_nbb_api_registerModule as registerModule };
export { $APP, shadow$provide, $jscomp };
