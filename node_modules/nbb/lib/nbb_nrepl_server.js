
import { $APP, shadow$provide, $jscomp } from "./nbb_api.js";
import  "./nbb_core.js";
import  "./nbb_goog_string.js";
const shadow_esm_import = function(x) { return import(x) };
'use strict';var oua=function(a,b){a=a.indexOf(b);if(0>a)throw Error("out of input");return a},Q6=function(a,b){if(a.length<b)throw Error("out of input");return a.slice(b)},R6=function(a,b){if(b>a.length)throw Error("out of input");return a.slice(0,b)},S6=function(a){return $APP.n($APP.pZ.g($APP.t($APP.qW)))?console.debug($APP.Np.h(" ",a)):null},qua=function(a){return function(b,c){b=$APP.Fg(b);var d=$APP.Ne.h(b,$APP.Vq),e=$APP.Ne.h(b,pua);c=$APP.mj.j(c,"id",d);c=$APP.n(e)?$APP.mj.j(c,"session",e):
c;return a.h?a.h(b,c):a.call(null,b,c)}},sua=function(){var a=rua;return function(b,c){b=$APP.go.j(b,T6,$APP.Vj);return a.h?a.h(b,c):a.call(null,b,c)}},uua=function(){var a=tua();return function(b,c){S6($APP.E(["request",b]));return a.h?a.h(b,c):a.call(null,b,c)}},vua=function(a){return function(b,c){S6($APP.E(["response",c]));return a.h?a.h(b,c):a.call(null,b,c)}},tua=function(){var a=sua();return function(b,c){return a.h?a.h(b,c):a.call(null,b,c)}},wua=function(a){return $APP.mj.j($APP.xj(new $APP.I(null,
3,5,$APP.J,["major","minor","incremental"],null),$APP.SC.g(a.split("."))),"version-string",a)},xua=function(a,b,c){if($APP.n(a))if(a=U6.g?U6.g(a):U6.call(null,a),$APP.n(a)){b=$APP.Fg(b);var d=$APP.Ne.h(b,$APP.zE),e=$APP.Ne.h(b,$APP.OM),f=$APP.Ne.h(b,$APP.kD);b=$APP.bb;var g=$APP.Oj,l=$APP.Ky;$APP.bb=e;$APP.Oj=f;$APP.Ky=d;try{var q=new $APP.Ra;d=$APP.eb;e=$APP.fb;$APP.eb=!0;$APP.fb=function(w){return q.append(w)};try{a.g?a.g(c):a.call(null,c)}finally{$APP.fb=e,$APP.eb=d}return $APP.r.g(q)}finally{$APP.Ky=
l,$APP.Oj=g,$APP.bb=b}}else return S6($APP.E(["Pretty-Printing is only supported for clojure.core/prn and clojure.pprint/pprint."])),$APP.qk.l($APP.E([c]));else return $APP.qk.l($APP.E([c]))},Cua=function(a,b){var c=$APP.Fg(a);a=$APP.Ne.h(c,$APP.T);var d=$APP.Ne.h(c,V6),e=$APP.Ne.h(c,$APP.Qm);$APP.Ne.h(c,yua);$APP.Ne.h(c,zua);$APP.uq($APP.Dg([$APP.cr,a,$APP.Nq,e,$APP.QU,$APP.t($APP.QU),$APP.VU,!0]));return function(){$APP.oW.h($APP.LU,$APP.bh(function(f){f=new $APP.k(null,1,["out",f],null);return b.h?
b.h(c,f):b.call(null,c,f)}));return $APP.jx(null,$APP.Sv(d),new $APP.k(null,1,[$APP.nx,$APP.Au],null)).then(function(f){f=$APP.z(f);$APP.dh(W6,$APP.t($APP.cr));$APP.oW.h($APP.bW,$APP.bh($APP.t($APP.aW)));$APP.oW.h($APP.aW,$APP.bh($APP.t($APP.$V)));$APP.oW.h($APP.$V,$APP.bh(f));f=xua(Aua.g(c),Bua.g(c),f);f=new $APP.k(null,2,["value",f,"ns",$APP.r.g($APP.t($APP.cr))],null);b.h?b.h(c,f):b.call(null,c,f);f=new $APP.k(null,1,["status",new $APP.I(null,1,5,$APP.J,["done"],null)],null);return b.h?b.h(c,f):
b.call(null,c,f)}).catch(function(f){$APP.oW.h($APP.cW,$APP.bh(f));var g=$APP.Yq.g($APP.cl(f));g=$APP.n(g)?g:f.message;$APP.n(g)&&(g=new $APP.k(null,1,["err",[$APP.r.g(g),"\n"].join("")],null),b.h?b.h(c,g):b.call(null,c,g));f=new $APP.k(null,3,["ex",$APP.r.g(f),"ns",$APP.r.g($APP.t($APP.cr)),"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null);return b.h?b.h(c,f):b.call(null,c,f)})}().finally(function(){return $APP.wq()})},Dua=function(a,b){a=$APP.Fg(a);var c=$APP.Ne.h(a,$APP.T),d=$APP.mj.j;
c=$APP.n(c)?$APP.gZ($APP.Ow(),$APP.dk.g(c)):null;$APP.n(c)||(c=$APP.t(W6),c=$APP.n(c)?c:$APP.t($APP.cr));return Cua(d.call($APP.mj,a,$APP.T,c),b)},X6=function(a,b){var c=$APP.Fg(a),d=$APP.Ne.h(c,$APP.T),e=T6.g(c);try{var f=$APP.T.g(c),g=function(){var M=$APP.Nia.g(c);return $APP.n(M)?M:$APP.In.g(c)}(),l=function(){var M=$APP.n(d)?$APP.gZ($APP.Ow(),$APP.dk.g(d)):null;if($APP.n(M))return M;M=$APP.t(W6);return $APP.n(M)?M:$APP.t($APP.cr)}(),q=$APP.Dg([$APP.cr,l]);$APP.uq(q);try{var w=$APP.$Y($APP.Ow(),
$APP.P6("\n(let [ns '%s\n      full-sym '%s]\n  (when-let [v (ns-resolve ns full-sym)]\n    (let [m (meta v)]\n      (assoc m :arglists (:arglists m)\n       :doc (:doc m)\n       :name (:name m)\n       :ns (some-\x3e m :ns ns-name)\n       :val @v))))",f,g)),u=$APP.Z.g(w),A=$APP.Qm.g(w),m=$APP.Rm.g(w),F=function(){var M=e instanceof $APP.H?e.ga:null;switch(M){case "eldoc":return M=new $APP.k(null,5,["ns",$APP.T.g(w),"name",$APP.P.g(w),"eldoc",$APP.Es.h(function(U){return $APP.Es.h($APP.r,U)},$APP.X.g(w)),
"type",$APP.Ie($APP.Iw.g(w))?"function":"variable","status",new $APP.I(null,1,5,$APP.J,["done"],null)],null),$APP.n(u)?$APP.mj.j(M,"docstring",u):M;case "info":case "lookup":return M=new $APP.k(null,4,["ns",$APP.T.g(w),"name",$APP.P.g(w),"arglists-str",$APP.Np.h("\n",$APP.Uj.h($APP.qk,$APP.X.g(w))),"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null),M=$APP.n(u)?$APP.mj.j(M,"doc",u):M,M=$APP.n(A)?$APP.mj.j(M,"file",A):M,$APP.n(m)?$APP.mj.j(M,"line",m):M;default:throw Error(["No matching clause: ",
$APP.r.g(M)].join(""));}}();return b.h?b.h(c,F):b.call(null,c,F)}finally{$APP.wq()}}catch(M){if(M instanceof Error)return a=M,f=function(){var U=new $APP.pj(null,new $APP.k(null,1,["done",null],null),null);return $APP.C.h(e,Eua)?$APP.$f.h(U,"no-eldoc"):U}(),a=new $APP.k(null,2,["status",f,"ex",$APP.r.g(a)],null),b.h?b.h(c,a):b.call(null,c,a);throw M;}},rua=function(a,b){a=$APP.Fg(a);var c=$APP.Ne.h(a,T6),d=$APP.Ne.h(Fua,c);if($APP.n(d))return d.h?d.h(a,b):d.call(null,a,b);console.warn($APP.Np.h(" ",
$APP.E(["Unhandled operation",c])));c=new $APP.k(null,1,["status",new $APP.I(null,3,5,$APP.J,["error","unknown-op","done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},Gua=function(a){return function(b,c){return a.write(Y6(c))}},Hua=function(a,b){S6($APP.E(["Connection accepted"]));b.setNoDelay(!0);var c=uua(),d=qua(vua(Gua(b))),e=$APP.uk.g(null);b.on("data",function(f){var g=$APP.t(e);if($APP.n(g)){f=[$APP.r.g(g),$APP.r.g(f)].join("");$APP.dh(e,null);var l=f}else l=f;a:for(f=$APP.E([$APP.TC,
!0]),g=$APP.uh;;){var q=$APP.$g.j(Z6,l,f);l=$APP.D.j(q,0,null);q=$APP.D.j(q,1,null);if(null==l){g=new $APP.I(null,2,5,$APP.J,[g,q],null);break a}g=$APP.$f.h(g,l);l=q}f=$APP.D.j(g,0,null);g=$APP.D.j(g,1,null);$APP.cm(g)||$APP.dh(e,g);f=$APP.x(f);g=null;for(var w=q=0;;)if(w<q)l=g.S(null,w),c(l,d),w+=1;else if(f=$APP.x(f))g=f,$APP.De(g)?(f=$APP.$c(g),q=$APP.ad(g),g=f,l=$APP.ce(f),f=q,q=l):(l=$APP.z(g),c(l,d),f=$APP.B(g),g=null,q=0),w=0;else return null});return b.on("close",function(f){return $APP.n(f)?
S6($APP.E(["Connection lost"])):S6($APP.E(["Connection closed"]))})},Jua=function(){var a=$APP.t($APP.qW);$APP.dZ($APP.Op.resolve("script.cljs"));var b=function(){var e=$APP.mZ.g(a);return $APP.n(e)?e:0}(),c=function(){var e=$APP.nZ.g(a);return $APP.n(e)?e:"127.0.0.1"}();(function(){var e=$APP.pb(a)?a.Mi:Iua.g(a);return $APP.n(e)?e:"info"})();var d=$APP.rZ.createServer($APP.Km.h(Hua,$APP.Eg));d.listen(b,c,function(){var e=d.address(),f=e.port;e=e.address;$APP.GC.l($APP.E([["nREPL server started on port ",
$APP.r.g(f)," on host ",$APP.r.g(e)," - nrepl://",$APP.r.g(e),":",$APP.r.g(f)].join("")]));try{return $APP.cx.writeFileSync(".nrepl-port",$APP.r.g(f))}catch(g){return console.warn($APP.Np.h(" ",$APP.E(["Could not write .nrepl-port",g])))}});return d},Kua=function(){function a(d){return $APP.aZ(new $APP.G(null,$APP.tl,new $APP.G(null,new $APP.G(null,$APP.tl,new $APP.G(null,d,null,1,null),2,null),null,1,null),2,null))}var b=$APP.D.j($APP.rW,0,null),c=$APP.D.j($APP.rW,1,null);a(b).then(function(){return a(c)}).then(function(){return Jua()})},
yua=new $APP.H(null,"_load-file?","_load-file?",-1198848711),V6=new $APP.H(null,"code","code",1586293142),Lua=new $APP.H(null,"clone","clone",711747572),Mua=new $APP.H(null,"expander","expander",379138924),Nua=new $APP.H(null,"load-file","load-file",-424586670),Oua=new $APP.H(null,"close","close",1835149582),Pua=new $APP.H(null,"describe","describe",1369790582),Eua=new $APP.H(null,"eldoc","eldoc",-1321421900),T6=new $APP.H(null,"op","op",-1882987955),Aua=new $APP.H("nrepl.middleware.print","print",
"nrepl.middleware.print/print",-1616742548),Qua=new $APP.H(null,"macroexpand","macroexpand",-130598183),Rua=new $APP.H(null,"info","info",-317069002),pua=new $APP.H(null,"session","session",1008279103),Sua=new $APP.H(null,"load-file?","load-file?",1892536169),Tua=new $APP.H(null,"complete","complete",-500388775),Iua=new $APP.H(null,"log_level","log_level",-1756736313),Uua=new $APP.H(null,"lookup","lookup",1225356838),Bua=new $APP.H("nrepl.middleware.print","options","nrepl.middleware.print/options",
868480159),zua=new $APP.H(null,"_line","_line",232847719);var $6=function $6(a,b){switch($APP.r.g(R6(a,1))){case "i":return a=Q6(a,1),b=oua(a,"e"),new $APP.I(null,2,5,$APP.J,[parseInt(R6(a,b)),Q6(a,b+1)],null);case "l":var d=a=Q6(a,1);for(a=$APP.Pc($APP.uh);;){if($APP.C.h($APP.r.g(R6(d,1)),"e"))return new $APP.I(null,2,5,$APP.J,[$APP.Rc(a),Q6(d,1)],null);var e=$6.h?$6.h(d,b):$6.call(null,d,b),f=$APP.D.j(e,0,null),g=$APP.D.j(e,1,null);e=g;a=$APP.th.h(a,f);d=e}case "d":for(a=Q6(a,1),f=$APP.Fg(b),f=$APP.Ne.h(f,$APP.TC),d=a,e=$APP.Pc($APP.Eg);;){if($APP.C.h($APP.r.g(R6(d,
1)),"e"))return new $APP.I(null,2,5,$APP.J,[$APP.Rc(e),Q6(d,1)],null);a=$6.h?$6.h(d,b):$6.call(null,d,b);d=$APP.D.j(a,0,null);g=$APP.D.j(a,1,null);g=$6.h?$6.h(g,b):$6.call(null,g,b);a=$APP.D.j(g,0,null);g=$APP.D.j(g,1,null);d=$APP.n(f)?$APP.Vj.g(d):d;a=$APP.pi.j(e,d,a);d=g;e=a}default:return b=oua(a,":"),f=parseInt(R6(a,b)),a=Q6(a,b+1),new $APP.I(null,2,5,$APP.J,[$APP.r.g(R6(a,f)),Q6(a,f)],null)}},Z6=function Z6(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;
return Z6.l(arguments[0],1<c.length?new $APP.Bd(c.slice(1),0,null):null)};Z6.l=function(a,b){try{return $6(a,b)}catch(c){if(c instanceof Error)return new $APP.I(null,2,5,$APP.J,[null,a],null);throw c;}};Z6.o=1;Z6.A=function(a){var b=$APP.z(a);a=$APP.B(a);return this.l(b,a)};
var Y6=function Y6(a){for(;;){if("string"===typeof a)return[$APP.r.g(Buffer.from(a).length),":",a].join("");if(a instanceof $APP.H||a instanceof $APP.v)a=[function(){var c=$APP.fg(a);return $APP.n(c)?[c,"/"].join(""):null}(),$APP.wj(a)].join("");else return"number"===typeof a?["i",$APP.r.g(a),"e"].join(""):$APP.xe(a)||$APP.Ce(a)||null==a?["l",$APP.r.g($APP.$g.h($APP.r,$APP.Uj.h(Y6,a))),"e"].join(""):$APP.Ae(a)?["d",$APP.r.g($APP.$g.h($APP.r,$APP.Uj.h(function(){return function(c){var d=$APP.D.j(c,
0,null);c=$APP.D.j(c,1,null);return[$APP.r.g(Y6.g?Y6.g(d):Y6.call(null,d)),$APP.r.g(Y6.g?Y6.g(c):Y6.call(null,c))].join("")}}(a),$APP.xB.h($APP.z,a)))),"e"].join(""):null}};var W6=$APP.uk.g(null),U6=new $APP.k(null,3,["clojure.core/prn",$APP.HC,"clojure.pprint/pprint",$APP.JW,"cider.nrepl.pprint/pprint",$APP.JW],null),Fua=$APP.Ti([$APP.lZ,Uua,Oua,Nua,Eua,Lua,Pua,Rua,Tua,Qua,$APP.Gia],[function(a,b){var c=new $APP.k(null,2,["status",new $APP.I(null,1,5,$APP.J,["done"],null),"classpath",$APP.am.h($APP.Qp(),$APP.Nj($APP.Op.delimiter))],null);return b.h?b.h(a,c):b.call(null,a,c)},X6,function(a,b){var c=new $APP.k(null,1,["status",new $APP.I(null,1,5,$APP.J,["done"],null)],
null);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){a=$APP.Fg(a);var c=$APP.Ne.h(a,$APP.Qm);return Cua($APP.mj.l(a,V6,c,$APP.E([Sua,!0,$APP.T,$APP.t($APP.cr)])),b)},X6,function(a,b){var c=new $APP.k(null,2,["new-session",$APP.r.g($APP.al()),"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){var c=new $APP.k(null,4,["versions",new $APP.k(null,2,["nbb-nrepl",wua("TODO"),"node",wua(process.version)],null),"aux",$APP.Eg,"ops",$APP.xj($APP.Uj.h($APP.wj,
$APP.gj(Fua)),$APP.nt.g($APP.Eg)),"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null);return b.h?b.h(a,c):b.call(null,a,c)},X6,function(a,b){var c=$APP.kZ(a);return b.h?b.h(a,c):b.call(null,a,c)},function(a,b){a=$APP.Fg(a);var c=$APP.Ne.h(a,V6),d=$APP.Ne.h(a,Mua);try{return Dua($APP.mj.j(a,V6,["( ",$APP.r.g(d),"(quote ",$APP.r.g(c),"))"].join("")),function(e,f){var g=f.g?f.g("value"):f.call(null,"value");f=$APP.n(g)?$APP.mj.j(f,"expansion",g):f;return b.h?b.h(e,f):b.call(null,e,f)})}catch(e){if(e instanceof
Error)return c=new $APP.k(null,3,["ex",$APP.r.g(e),"ns",$APP.r.g($APP.t($APP.cr)),"status",new $APP.I(null,1,5,$APP.J,["done"],null)],null),b.h?b.h(a,c):b.call(null,a,c);throw e;}},Dua]);try{Kua()}catch(a){throw console.error("An error occurred when calling (nbb.impl.nrepl-server/init)"),a;};
export { $APP, shadow$provide, $jscomp };
